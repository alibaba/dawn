<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>使用入门 - Dawn</title>
  <meta name="keywords" content="使用入门" />
  <meta name="description" content="使用入门" />
  <meta name="author" content="doczilla">
  <base href="../../" route="%7B%22lang%22%3A%22zh%22%2C%22group%22%3A%22guide%22%2C%22doc%22%3A%22getting-started%22%7D" />
  <link href="./assets/index.css" rel="stylesheet">
  <link href="./plugins/doczilla-card/index.css" rel="stylesheet" /><link href="./plugins/doczilla-details/index.css" rel="stylesheet" /><link href="./plugins/doczilla-highlight/index.css" rel="stylesheet" /></head>
</head>

<body>
  <div id="root"><div data-reactroot=""><nav class="navbar navbar-default"><div class="container-fluid"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="./"><i class="icon fa fa-graduation-cap" aria-hidden="true"></i><span class="name">Dawn</span></a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1"><form class="navbar-form navbar-left"><div class="form-group search"><span class="separator"></span><input type="text" class="form-control" placeholder="Search by keyword ..." value=""/></div></form><ul class="nav navbar-nav navbar-right"><li><a href="//alibaba.github.io/dawn/">首页</a></li><li><a href="//github.com/alibaba/dawn">GitHub</a></li><li><a href="//github.com/alibaba/dawn/issues">问题反馈</a></li><li class="dropdown locales"><a class="dropdown-toggle" data-toggle="dropdown" role="button">中文<!-- --> <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="zh/guide/getting-started.html">中文</a></li></ul></li></ul></div></div></nav><div class="container"><div class="panel panel-default"><div class="panel-body"><div class="row"><div class="col-md-3 col-side"><div class="catalog"><ul class="group"><li class="group-item"><a><i class="fa fa-bookmark" aria-hidden="true"></i>使用指南</a><ul class="doc"><li class="doc-item"><a class="active" href="zh/guide/getting-started.html">使用入门</a></li><li class="doc-item"><a class="" href="zh/guide/pipeline.html">配置 Pipeline</a></li><li class="doc-item"><a class="" href="zh/guide/template.html">制作模板</a></li><li class="doc-item"><a class="" href="zh/guide/middleware.html">开发中间件</a></li></ul></li><li class="group-item"><a><i class="fa fa-bookmark" aria-hidden="true"></i>中心服务</a><ul class="doc"><li class="doc-item"><a class="" href="zh/service/client.html">用户配置</a></li><li class="doc-item"><a class="" href="zh/service/server.html">团队配置</a></li></ul></li><li class="group-item"><a><i class="fa fa-bookmark" aria-hidden="true"></i>常用中间件</a><ul class="doc"></ul></li><li class="group-item"><a><i class="fa fa-bookmark" aria-hidden="true"></i>常用模板</a><ul class="doc"></ul></li></ul></div></div><div class="col-md-9 col-main"><div class="article markdown-body"><h1 id="%E4%BD%BF%E7%94%A8%E5%85%A5%E9%97%A8">使用入门</h1>
<h3 id="dawn-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F">Dawn 是什么？</h3>
<p>Dawn 取「黎明、破晓」之意，原为「阿里云·业务运营团队」内部的前端构建和工程化工具，现已完全开源。它通过 <code>pipeline</code> 和 <code>middleware</code> 将开发过程抽象为相对固定的阶段和有限的操作，简化并统一了开发人员的日常构建与开发相关的工作。</p>
<h3 id="%E6%9C%89%E4%BB%80%E4%B9%88%E7%89%B9%E7%82%B9%EF%BC%9F">有什么特点？</h3>
<ul>
<li>采用中间件技术，封装常用功能，易于扩展，方便重用</li>
<li>支持 pipeline 让多个 task 协同完成构建任务</li>
<li>简单、一致的命令行接口，易于开发人员使用</li>
<li>支持基于「中心服务」管理中间件和工程模板</li>
<li>支持搭建私有中心服务，并统一下发构建规则，易于团队统一管理</li>
</ul>
<h3 id="%E5%AE%89%E8%A3%85%E5%92%8C%E6%9B%B4%E6%96%B0">安装和更新</h3>
<p>依赖的环境、软件及其版本：</p>
<ul>
<li>Node.js v7.6.0 及以上版本</li>
<li>Mac/Linux (Windows 基本支持未经严格测试)</li>
</ul>
<p>安装或更新 Dawn:</p>
<pre><code class="language-sh">$ [sudo] npm install dawn -g
</code></pre>
<p>中国大陆用户可以使用 cnpm 加速安装</p>
<h3 id="%E5%88%9D%E5%A7%8B%E5%8C%96%E5%B7%A5%E7%A8%8B">初始化工程</h3>
<pre><code class="language-sh">$ dn init [template] [options]
</code></pre>
<p>示例：</p>
<pre><code class="language-sh">$ dn init 
? Found 4 templates (Use arrow keys)
❯ 1. front      : Blank front end project template
  2. node       : Blank node project template
  3. middleware : Dawn middleware project template
  4. react      : Based on react-scripts, like create-react-app
</code></pre>
<p>选择一个工程类型，回车即可按向导初始化一个工程，还可以通过 <code>-t</code> 或 <code>--template</code> 直接按指定的模板名称，直接初始化工程。</p>
<p>比如，通过名为 <code>front</code> 的模板，初始化一个工程</p>
<pre><code class="language-sh">$ dn init -t front
</code></pre>
<h3 id="%E5%90%AF%E5%8A%A8%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1">启动开发服务</h3>
<pre><code class="language-sh">$ dn dev 
</code></pre>
<p>如果是一个「前端」工程通常会启动构建进程并监听文件的变化，通常，还会启动一个 <code>Web Server</code>，并自动打开浏览器。</p>
<h3 id="%E6%89%A7%E8%A1%8C%E6%A3%80%E6%9F%A5%E5%92%8C%E6%B5%8B%E8%AF%95">执行检查和测试</h3>
<pre><code class="language-sh">$ dn test
</code></pre>
<p>在执行 test 的时候会先进行「语法检查」（通过 eslint），然后执行「单元测试」和「E2E 测试」。</p>
<h3 id="%E6%9E%84%E5%BB%BA%E5%B7%A5%E7%A8%8B">构建工程</h3>
<pre><code>$ dn build
</code></pre>
<p>执行构建任务，不同的工程类型的构建过程和结果可能不同，取决于初始化工程时使用的工程模板。
完成后，会在当前项目的根目录产生 <strong>build</strong> 目录，这是构建结果，当然，也可以指定为其它目录名称。</p>
<h3 id="%E5%8F%91%E5%B8%83%E5%B7%A5%E7%A8%8B">发布工程</h3>
<pre><code>$ dn publish
</code></pre>
<p>可以通过 <code>dn publish</code> 命令发布代码和构建结果，不同的工程模板决定了最终发布位置，是否支持 <code>publish</code> 命令取决于选择的「工程模板」。</p>
<h3 id="%E6%89%A7%E8%A1%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BB%BB%E5%8A%A1">执行自定义任务</h3>
<p>init/dev/build/test/publish 这几个命令可以直接作为「子命令」写在 dn 后边，对于其它名称的 <code>pipeline</code> 需要使用 <code>run</code> 命令</p>
<p>编辑 <code>.dawn/pipe.yml</code> 或 <code>.dawn.yml</code></p>
<pre><code class="language-yaml"><span class="token key atrule">demo</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> shell
    <span class="token key atrule">script</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> echo demo
</code></pre>
<p>可以通过如下方法执行 demo</p>
<pre><code class="language-sh">dn run demo
</code></pre>
</div></div></div></div></div></div><footer class="footer">Powered By <!-- -->doczilla<!-- --> v<!-- -->3.2.2</footer></div></div>
  <script src="./data.js"></script>
  <script src="./assets/index.js"></script>
  <script src="./plugins/doczilla-highlight/index.js"></script></body>
</body>

</html>